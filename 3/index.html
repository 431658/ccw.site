<html>
    <head>
        <meta charset="utf-8">
        <style>
            img {
                position: fixed;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                border: none;
                margin: 0;
                padding: 0;
           }
           body {
               background: rgb(20, 20, 31);
           }
        </style>
        <script>
            async function a(){
                const id=prompt("欢迎来到共创世界，输入你的id");
                if(id==null) window.close();
                const info=await fetch("https://community-web.ccw.site/students/profile", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ studentNumber: id })
                }).then(r=>r.json());
                if(info.status!=200) throw new Error("网络错误");
                if(info.code=="0000004") alert("别乱打字！");
                else{
                    const UserNameMap=await fetch("UserNameMap.json").then(r=>r.json()).catch(()=>({}));
                    if(id in UserNameMap) alert(`你好，${UserNameMap[id]}。`);
                    else if(info.body.name==null) alert("诶，你好像被封号了？哈哈哈哈哈🤣");
                    else alert(`你好，${info.body.name}。`);
                }
            }
        </script>
    </head>
    <body>
        <img src="https://gpo.saobby.com/i/LYQuRQIjQOmz0qa5.jpg" onclick='a().catch((e)=>alert(e.message+"\n请重试"))'></img>
    </body>
</html>
